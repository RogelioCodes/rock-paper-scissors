<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      //Global Variables

      let playerScore = 0;
      let computerScore = 0;

      /*This function generates a random number between 0 and two
      and uses that number to return either rock, paper or scissors */
      let computerPlay = () => {
        let choice = ["Rock", "Paper", "Scissors"];
        return choice[Math.floor(Math.random() * 3)];
      };

      // Capitalizes the first letter of string
      function capitalize(playerSelection) {
        return (
          playerSelection.charAt(0).toUpperCase() + playerSelection.slice(1)
        );
      }
      //Prompts user to enter rock paper or scissors and then returns that string with the first letter capitalized
      let playerPlay = () => {
        let playerSelection = prompt("Please enter rock, paper, or scissors");
        playerSelection = capitalize(playerSelection);
        while (
          //Checks if user input is valid
          playerSelection != "Rock" &&
          playerSelection != "Paper" &&
          playerSelection != "Scissors"
        ) {
          playerSelection = prompt(
            "Please choose either rock, paper or scissors."
          );
          playerSelection = capitalize(playerSelection);
        }

        return playerSelection;
      };

      //plays a round and returns the winner
      function playRound(playerSelection, computerSelection) {
        console.log(
          "computerSelection: " +
            computerSelection +
            " playerSelection: " +
            playerSelection
        );

        if (playerSelection === computerSelection) {
          return "Draw";
        } else if (
          (playerSelection === "Rock" && computerSelection == "Scissors") ||
          (playerSelection === "Paper" && computerSelection == "Rock") ||
          (playerSelection === "Scissors" && computerSelection === "Paper")
        ) {
          return playerScore++;
        } else if (
          (playerSelection === "Scissors" && computerSelection == "Rock") ||
          (playerSelection === "Rock" && computerSelection == "Paper") ||
          (playerSelection === "Paper" && computerSelection === "Scissors")
        ) {
          return computerScore++;
        }
      }
      //calls playRound and calculates the final score and winner of the game
      function game() {
        let computerSelection = computerPlay();
        let playerSelection = playerPlay();

        playRound(playerSelection, computerSelection);

        if (playerScore === computerScore) {
          return "Tie game!";
        } else if (playerScore > computerScore) {
          return "Player wins the game!";
        } else if (computerScore > playerScore) {
          return "Computer wins the game!";
        }
      }
      function displayScore() {
        console.log(
          "Player score: " + playerScore + " Computer score: " + computerScore
        );
      }

      game();
      game();
      game();
      game();
      console.log(game());
      displayScore();
    </script>
  </body>
</html>
